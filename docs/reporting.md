# Отчетность и Аудит (Reporting)

В этом разделе описаны API для получения исторических данных и аудита движений товаров.

## История цен (Price History)

Позволяет получить историю изменения цен на товары.

### Получение списка
`GET /price-histories`

#### Параметры фильтрации (Query Params):
- `productId` (UUID): Фильтр по конкретному товару.
- `priceTypeId` (UUID): Фильтр по типу цены (например, только Розничная).
- `include`: Подгрузка связей (например, `product`, `priceType`).

#### Пример запроса:
```http
GET /price-histories?productId=...&priceTypeId=...
```

---

## Движения товаров (Stock Movements)

Полный аудит всех изменений остатков на складах. Каждая операция (закупка, продажа, перемещение) создает запись в этой таблице.

### Получение списка
`GET /stock-movements`

#### Параметры фильтрации (Query Params):
- `productId` (UUID): Показать движения конкретного товара.
- `storeId` (UUID): Показать движения по конкретному складу.
- `type`: Тип операции. Возможные значения:
    - `PURCHASE` (Закупка)
    - `SALE` (Продажа)
    - `RETURN` (Возврат)
    - `ADJUSTMENT` (Корректировка)
    - `TRANSFER_IN` (Входящее перемещение)
    - `TRANSFER_OUT` (Исходящее перемещение)
- `startDate` (ISO Date): Начало периода (включительно).
- `endDate` (ISO Date): Конец периода (включительно).

#### Пример запроса:
```http
GET /stock-movements?storeId=...&startDate=2024-01-01&endDate=2025-01-01
```

# Техническая документация проекта Trade3

Добро пожаловать в техническую документацию системы складского учета.

## Основные разделы

### 1. Архитектура и термины

- [**Сущности (Entities)**](./entities.md) — Описание БД, полей и связей между моделями.
- [**Глоссарий (Glossary)**](./glossary.md) — Расшифровка технических терминов (WAP, Транзакции, Изоляция).
- [**Конкурентность и Блокировки**](./concurrency.md) — Стратегия ACID и Advisory Locks.
- [**Технологический стек**](./tech-stack.md) — Обзор используемых технологий (Fastify, Vitest, Zod, Prisma).

### 2. Документооборот (Сервисы)

Здесь описана бизнес-логика каждого типа операции:

- [**Закупки (Purchase)**](./services/document-purchase.md) — Оприходование и расчет WAP.
- [**Продажи (Sale)**](./services/document-sale.md) — Списание и фиксация прибыли.
- [**Возвраты (Return)**](./services/document-return.md) — Прием товара от клиентов.
- [**Корректировки (Adjustment)**](./services/document-adjustment.md) — Инвентаризация.
- [**Перемещения (Transfer)**](./services/document-transfer.md) — Движение между складами.
- [**Изменение цен (PriceChange)**](./services/document-price-change.md) — Установка и история цен.

### 3. Общие механизмы

- **Аутентификация и JWT** — [**Описание системы входа и безопасности**](./auth.md).
- **InventoryService** (описан внутри сервисов документов) — Централизованный помощник для валидации складов, расчета себестоимости и логирования аудита.
- [**DocumentHistory (Аудит)**](./document-history.md) — Протоколирование всех действий с документами.
- [**StockLedger & PriceLedger (Отчетность)**](./reporting.md) — API для получения аудита движений и истории цен с фильтрацией.

### 4. Тестирование

- [**E2E Тесты (Testing)**](./testing.md) — Стратегия тестирования, описание `TestHelper` и сценариев проверки API.

---

_Документация актуальна на 26 января 2026 года._
